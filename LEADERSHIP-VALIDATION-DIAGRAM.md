---
titulo: "Diagrama de ImplementaciÃ³n: ValidaciÃ³n de Liderazgo"
---

# ğŸ¯ Diagrama Visual de ImplementaciÃ³n

## Arquitectura General

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   APLICACIÃ“N MIA - ENCUESTA                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                    Etapas: 1 â†’ 2 â†’ 3 â†’ 4 â†’ 5 â†’ 6
                                           â–²
                                    VALIDACIÃ“N NUEVA
                                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                                             â”‚
              ANTES (Sin validar)                   AHORA (Validar liderazgo)
              âœ… 0+ miembros                       âœ… 1+ miembros
                  â”œâ”€ Cualquier parentesco            â”œâ”€ Al menos 1 con:
                  â”‚  - Hijo                          â”‚  - Cabeza de Hogar
                  â”‚  - Esposa                        â”‚  - Jefe de Familia
                  â”‚  - Padre                         â”‚  - LÃ­der
                  â””â”€ AVANZA                          â””â”€ VALIDA primero
```

## Componentes Arquitectura

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       SurveyForm Component                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  const [currentStage, setCurrentStage] = useState(4)              â”‚
â”‚  const [familyMembers, setFamilyMembers] = useState([...])        â”‚
â”‚                                                                    â”‚
â”‚  const handleNext = () => {                                       â”‚
â”‚    // ... validaciones etapas 1-3 ...                             â”‚
â”‚                                                                    â”‚
â”‚    if (currentStage === 4 && familyMembers.length === 0) {        â”‚
â”‚      toast("Error: Agregar miembro") âŒ                          â”‚
â”‚      return                                                        â”‚
â”‚    }                                                               â”‚
â”‚                                                                    â”‚
â”‚    // â­ NUEVA VALIDACIÃ“N                                         â”‚
â”‚    if (currentStage === 4 && familyMembers.length > 0) {          â”‚
â”‚      if (!hasLeadershipFamilyMember(familyMembers)) {  â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”
â”‚        toast("Error: Rol de liderazgo") âŒ                      â”‚    â”‚
â”‚        return                                                      â”‚    â”‚
â”‚      }                                                             â”‚    â”‚
â”‚    }                                                               â”‚    â”‚
â”‚                                                                    â”‚    â”‚
â”‚    setCurrentStage(5) âœ…                                          â”‚    â”‚
â”‚  }                                                                 â”‚    â”‚
â”‚                                                                    â”‚    â”‚
â”‚  return (                                                          â”‚    â”‚
â”‚    <>                                                              â”‚    â”‚
â”‚      <SurveyHeader stage={currentStage} />                        â”‚    â”‚
â”‚      {currentStage === 4 && (                                     â”‚    â”‚
â”‚        <FamilyGrid familyMembers={familyMembers} />              â”‚    â”‚
â”‚      )}                                                            â”‚    â”‚
â”‚      <SurveyControls onNext={handleNext} />                      â”‚    â”‚
â”‚    </>                                                             â”‚    â”‚
â”‚  )                                                                 â”‚    â”‚
â”‚                                                                    â”‚    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”˜    â”‚
                                                                  â”‚      â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
                    â”‚                                                     â”‚
                    â–¼                                                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚            familyValidationHelpers.ts (NUEVO)                â”‚         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚
â”‚                                                               â”‚         â”‚
â”‚  const LEADERSHIP_KEYWORDS = [                               â”‚         â”‚
â”‚    "cabeza", "hogar", "lider", "jefe",                       â”‚         â”‚
â”‚    "familiar", "responsable"                                 â”‚         â”‚
â”‚  ]                                                            â”‚         â”‚
â”‚                                                               â”‚         â”‚
â”‚  export function isLeadershipParentesco(nombre) {            â”‚         â”‚
â”‚    if (!nombre) return false                                 â”‚         â”‚
â”‚    const normalized = nombre.toLowerCase().trim()            â”‚         â”‚
â”‚    return LEADERSHIP_KEYWORDS.some(kw =>                     â”‚         â”‚
â”‚      normalized.includes(kw)                                 â”‚         â”‚
â”‚    )                                                          â”‚         â”‚
â”‚  }                                                            â”‚         â”‚
â”‚                                                               â”‚         â”‚
â”‚  export function hasLeadershipFamilyMember(members) {        â”‚         â”‚
â”‚    return members.some(m =>                                  â”‚         â”‚
â”‚      isLeadershipParentesco(m.parentesco?.nombre)            â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚    )                                                          â”‚
â”‚  }                                                            â”‚
â”‚                                                               â”‚
â”‚  export function getLeadershipMessage() {                    â”‚
â”‚    return "Debe haber al menos un familiar con..."           â”‚
â”‚  }                                                            â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Flujo de Datos

```
USUARIO ACCIÃ“N: Click [Siguiente] en Etapa 4
       â”‚
       â–¼
handleNext()
       â”‚
       â”œâ”€ Validar campos etapa â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                                      â”‚
       â”œâ”€ currentStage === 4?                â”‚
       â”‚  (Â¿Estamos en Etapa 4?)             â”‚
       â”‚   â”‚                                 â”‚
       â”‚   â”œâ”€ NO â†’ Ignorar nueva validaciÃ³n  â”‚
       â”‚   â”‚                                 â”‚
       â”‚   â””â”€ SÃ â†“                           â”‚
       â”‚      â”‚                              â”‚
       â”‚      â”œâ”€ familyMembers.length > 0?   â”‚ â—„â”€ CHECK 1
       â”‚      â”‚  â”œâ”€ NO â†’ ERROR 1 âŒ          â”‚
       â”‚      â”‚  â””â”€ SÃ â†“                     â”‚
       â”‚      â”‚     â”‚                        â”‚
       â”‚      â”‚     â””â”€ hasLeadershipFamilyMember()? â—„â”€ CHECK 2
       â”‚      â”‚        â”œâ”€ familyMembers.some(m => {
       â”‚      â”‚        â”‚   â”œâ”€ m.parentesco?.nombre?
       â”‚      â”‚        â”‚   â”‚  â”œâ”€ NO â†’ false
       â”‚      â”‚        â”‚   â”‚  â””â”€ SÃ â†’ isLeadershipParentesco()
       â”‚      â”‚        â”‚   â”‚     â”œâ”€ nombre.toLowerCase()
       â”‚      â”‚        â”‚   â”‚     â”œâ”€ nombre.trim()
       â”‚      â”‚        â”‚   â”‚     â””â”€ KEYWORDS.some(kw =>
       â”‚      â”‚        â”‚   â”‚        nombre.includes(kw)
       â”‚      â”‚        â”‚   â”‚        )
       â”‚      â”‚        â”‚   â””â”€ true/false
       â”‚      â”‚        â””â”€ })
       â”‚      â”‚        â”œâ”€ NO â†’ ERROR 2 âŒ
       â”‚      â”‚        â””â”€ SÃ â†“
       â”‚      â”‚           â”‚
       â”‚      â”‚           â””â”€ setCurrentStage(5) âœ…
       â”‚      â”‚              setCurrentStage(4) âœ…
       â”‚
       â””â”€ toast() â† Mostrar feedback usuario
       â”‚
       â””â”€ window.scrollTo() â† Si avanzÃ³
```

## Estado Global

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       formData / UI State        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ currentStage: 4                  â”‚
â”‚ familyMembers: [                 â”‚
â”‚   {                              â”‚
â”‚     id: "1",                     â”‚
â”‚     nombres: "Carlos LÃ³pez",     â”‚
â”‚     parentesco: {                â”‚
â”‚       id: "1",                   â”‚
â”‚       nombre: "Cabeza de Hogar"  â”‚â—„â”€ âœ… VÃLIDO
â”‚     },                           â”‚
â”‚     edad: 45,                    â”‚
â”‚     // ... otros campos          â”‚
â”‚   },                             â”‚
â”‚   {                              â”‚
â”‚     id: "2",                     â”‚
â”‚     nombres: "MarÃ­a GarcÃ­a",     â”‚
â”‚     parentesco: {                â”‚
â”‚       id: "2",                   â”‚
â”‚       nombre: "Esposa"           â”‚â—„â”€ OK (no es requerido)
â”‚     },                           â”‚
â”‚     // ...                       â”‚
â”‚   }                              â”‚
â”‚ ]                                â”‚
â”‚                                  â”‚
â”‚ ValidaciÃ³n:                      â”‚
â”‚ familyMembers.length > 0? âœ…    â”‚
â”‚ hasLeadershipFamilyMember()? âœ…  â”‚
â”‚ â†’ Resultado Final: âœ… VÃLIDO     â”‚
â”‚ â†’ BotÃ³n [Siguiente]: HABILITADO  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Ciclo de Vida Etapa 4

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              CICLO DE VIDA: ETAPA 4                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1ï¸âƒ£ INICIAL (Sin miembros)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ familyMembers: []    â”‚
   â”‚ botÃ³n [Siguiente]    â”‚â”€ DESHABILITADO (CHECK 1)
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”œâ”€ Usuario: Click [+ Agregar Miembro]
            â”‚
            â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ FamilyMemberDialog abierto               â”‚
   â”‚ (Modal para agregar/editar)              â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”œâ”€ Usuario: Completa formulario
            â”‚  Nombres: "Juan"
            â”‚  Parentesco: "Hijo" â† âŒ NO es liderazgo
            â”‚  Edad: 25
            â”‚
            â”œâ”€ Usuario: Click [Guardar]
            â”‚
            â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ familyMembers: [                         â”‚
   â”‚   { id:"1", nombres:"Juan", parentesco:{ â”‚
   â”‚     nombre:"Hijo" } }                    â”‚
   â”‚ ]                                        â”‚
   â”‚ botÃ³n [Siguiente] â”€ DESHABILITADO        â”‚
   â”‚                     (CHECK 2 falla)      â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”œâ”€ Usuario: Click [Siguiente]
            â”‚
            â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ âŒ Toast de Error:                       â”‚
   â”‚ "Debe haber rol de liderazgo"            â”‚
   â”‚                                          â”‚
   â”‚ familyMembers sin cambios (sigue igual)  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”œâ”€ Usuario: Click [Editar] en tabla
            â”‚
            â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ FamilyMemberDialog con datos previos     â”‚
   â”‚ Parentesco: "Hijo" â”€ SELECT abierto      â”‚
   â”‚             â”œâ”€ Cabeza de Hogar â† AQUÃ   â”‚
   â”‚             â”œâ”€ Jefe de Familia          â”‚
   â”‚             â”œâ”€ Esposa                   â”‚
   â”‚             â””â”€ ...                      â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”œâ”€ Usuario: Selecciona "Cabeza de Hogar"
            â”‚
            â”œâ”€ Usuario: Click [Guardar]
            â”‚
            â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ familyMembers: [                         â”‚
   â”‚   { id:"1", nombres:"Juan", parentesco:{ â”‚
   â”‚     nombre:"Cabeza de Hogar" } }         â”‚â—„â”€ âœ… AHORA VÃLIDO
   â”‚ ]                                        â”‚
   â”‚ botÃ³n [Siguiente] â”€ HABILITADO           â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”œâ”€ Usuario: Click [Siguiente]
            â”‚
            â–¼
   âœ… ETAPA 5 (Avance exitoso)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ PÃ¡gina actualiza a Etapa 5               â”‚
   â”‚ Nuevo contenido cargado                  â”‚
   â”‚ Scroll al top automÃ¡tico                 â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Casos de Prueba Visual

```
TEST 1: Familia VacÃ­a
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ familyMembers.length = 0        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Siguiente]                     â”‚ â† Click
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
        âŒ ERROR 1
    "Agregar al menos un miembro"
             â”‚
             â””â”€ Queda en Etapa 4


TEST 2: Sin Liderazgo
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ familyMembers = [                    â”‚
â”‚   { nombres: "Juan", parentesco: {   â”‚
â”‚     nombre: "Hijo"  â† âŒ INVÃLIDO   â”‚
â”‚   }}                                 â”‚
â”‚ ]                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Siguiente]                          â”‚ â† Click
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
        âŒ ERROR 2
    "Debe haber rol de liderazgo"
             â”‚
             â””â”€ Queda en Etapa 4


TEST 3: Con Liderazgo âœ…
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ familyMembers = [                    â”‚
â”‚   { nombres: "Juan", parentesco: {   â”‚
â”‚     nombre: "Cabeza de Hogar" â† âœ…   â”‚
â”‚   }}                                 â”‚
â”‚ ]                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Siguiente]                          â”‚ â† Click
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
        âœ… OK
             â”‚
             â””â”€ Avanza a Etapa 5
```

## Palabras Clave Matching

```
KEYWORD MATCHING LOGIC
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Input: "Cabeza de Hogar"
   â”‚
   â”œâ”€ toLowerCase()  â†’ "cabeza de hogar"
   â”œâ”€ trim()         â†’ "cabeza de hogar"
   â”‚
   â””â”€ .includes("cabeza") âœ… MATCH
      .includes("hogar")  âœ… MATCH (multiple keywords ok)
      .includes("jefe")   âŒ NO MATCH
      .includes("lider")  âŒ NO MATCH
      
   Result: âœ… VALID

Input: "JEFE DE FAMILIA"
   â”‚
   â”œâ”€ toLowerCase()  â†’ "jefe de familia"
   â”œâ”€ trim()         â†’ "jefe de familia"
   â”‚
   â””â”€ .includes("jefe")     âœ… MATCH
      .includes("familiar") âœ… MATCH
      
   Result: âœ… VALID

Input: "Esposa"
   â”‚
   â”œâ”€ toLowerCase()  â†’ "esposa"
   â”œâ”€ trim()         â†’ "esposa"
   â”‚
   â””â”€ .includes("cabeza")      âŒ NO MATCH
      .includes("hogar")       âŒ NO MATCH
      .includes("lider")       âŒ NO MATCH
      .includes("jefe")        âŒ NO MATCH
      .includes("familiar")    âŒ NO MATCH
      .includes("responsable") âŒ NO MATCH
      
   Result: âŒ INVALID
```

---

**VersiÃ³n:** 1.0  
**Estado:** âœ… ProducciÃ³n
